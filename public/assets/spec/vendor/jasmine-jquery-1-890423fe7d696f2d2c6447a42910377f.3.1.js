var readFixtures=function(){return jasmine.getFixtures().proxyCallTo_("read",arguments)},preloadFixtures=function(){jasmine.getFixtures().proxyCallTo_("preload",arguments)},loadFixtures=function(){jasmine.getFixtures().proxyCallTo_("load",arguments)},setFixtures=function(a){jasmine.getFixtures().set(a)},sandbox=function(a){return jasmine.getFixtures().sandbox(a)},spyOnEvent=function(a,b){jasmine.JQuery.events.spyOn(a,b)};jasmine.getFixtures=function(){return jasmine.currentFixtures_=jasmine.currentFixtures_||new jasmine.Fixtures},jasmine.Fixtures=function(){this.containerId="jasmine-fixtures",this.fixturesCache_={},this.fixturesPath="spec/javascripts/fixtures"},jasmine.Fixtures.prototype.set=function(a){this.cleanUp(),this.createContainer_(a)},jasmine.Fixtures.prototype.preload=function(){this.read.apply(this,arguments)},jasmine.Fixtures.prototype.load=function(){this.cleanUp(),this.createContainer_(this.read.apply(this,arguments))},jasmine.Fixtures.prototype.read=function(){var a=[],b=arguments;for(var c=b.length,d=0;d<c;d++)a.push(this.getFixtureHtml_(b[d]));return a.join("")},jasmine.Fixtures.prototype.clearCache=function(){this.fixturesCache_={}},jasmine.Fixtures.prototype.cleanUp=function(){jQuery("#"+this.containerId).remove()},jasmine.Fixtures.prototype.sandbox=function(a){var b=a||{};return jQuery('<div id="sandbox" />').attr(b)},jasmine.Fixtures.prototype.createContainer_=function(a){var b;a instanceof jQuery?(b=jQuery('<div id="'+this.containerId+'" />'),b.html(a)):b='<div id="'+this.containerId+'">'+a+"</div>",jQuery("body").append(b)},jasmine.Fixtures.prototype.getFixtureHtml_=function(a){return typeof this.fixturesCache_[a]=="undefined"&&this.loadFixtureIntoCache_(a),this.fixturesCache_[a]},jasmine.Fixtures.prototype.loadFixtureIntoCache_=function(a){var b=this,c=this.fixturesPath.match("/$")?this.fixturesPath+a:this.fixturesPath+"/"+a;jQuery.ajax({async:!1,cache:!1,dataType:"html",url:c,success:function(c){b.fixturesCache_[a]=c},error:function(a,b,d){throw Error("Fixture could not be loaded: "+c+" (status: "+b+", message: "+d.message+")")}})},jasmine.Fixtures.prototype.proxyCallTo_=function(a,b){return this[a].apply(this,b)},jasmine.JQuery=function(){},jasmine.JQuery.browserTagCaseIndependentHtml=function(a){return jQuery("<div/>").append(a).html()},jasmine.JQuery.elementToString=function(a){return jQuery("<div />").append(a.clone()).html()},jasmine.JQuery.matchersClass={},function(a){var b={spiedEvents:{},handlers:[]};a.events={spyOn:function(a,c){var d=function(d){b.spiedEvents[[a,c]]=d};jQuery(a).bind(c,d),b.handlers.push(d)},wasTriggered:function(a,c){return!!b.spiedEvents[[a,c]]},cleanUp:function(){b.spiedEvents={},b.handlers=[]}}}(jasmine.JQuery),function(){var a={toHaveClass:function(a){return this.actual.hasClass(a)},toBeVisible:function(){return this.actual.is(":visible")},toBeHidden:function(){return this.actual.is(":hidden")},toBeSelected:function(){return this.actual.is(":selected")},toBeChecked:function(){return this.actual.is(":checked")},toBeEmpty:function(){return this.actual.is(":empty")},toExist:function(){return this.actual.size()>0},toHaveAttr:function(a,c){return b(this.actual.attr(a),c)},toHaveId:function(a){return this.actual.attr("id")==a},toHaveHtml:function(a){return this.actual.html()==jasmine.JQuery.browserTagCaseIndependentHtml(a)},toHaveText:function(a){return a&&jQuery.isFunction(a.test)?a.test(this.actual.text()):this.actual.text()==a},toHaveValue:function(a){return this.actual.val()==a},toHaveData:function(a,c){return b(this.actual.data(a),c)},toBe:function(a){return this.actual.is(a)},toContain:function(a){return this.actual.find(a).size()>0},toBeDisabled:function(a){return this.actual.is(":disabled")},toHandle:function(a){var b=this.actual.data("events");return b&&b[a].length>0},toHandleWith:function(a,b){var c=this.actual.data("events")[a],d;for(d=0;d<c.length;d++)if(c[d].handler==b)return!0;return!1}},b=function(a,b){return b===undefined?a!==undefined:a==b},c=function(b){var c=jasmine.Matchers.prototype[b];jasmine.JQuery.matchersClass[b]=function(){if(this.actual instanceof jQuery){var d=a[b].apply(this,arguments);return this.actual=jasmine.JQuery.elementToString(this.actual),d}return c?c.apply(this,arguments):!1}};for(var d in a)c(d)}(),beforeEach(function(){this.addMatchers(jasmine.JQuery.matchersClass),this.addMatchers({toHaveBeenTriggeredOn:function(a){return this.message=function(){return["Expected event "+this.actual+" to have been triggered on"+a,"Expected event "+this.actual+" not to have been triggered on"+a]},jasmine.JQuery.events.wasTriggered(a,this.actual)}})}),afterEach(function(){jasmine.getFixtures().cleanUp(),jasmine.JQuery.events.cleanUp()})